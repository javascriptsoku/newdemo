;/*!js/util/util.js*/
define("js/util/util",function(e,t,n){var a={tpl:function(e){return document.getElementById(e).innerHTML},ajax:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&t(JSON.parse(n.responseText))},n.open("GET",e,!0),n.send(null)}};n.exports=a});
;/*!js/filter/filter.js*/
define("js/filter/filter",function(){Vue.filter("price",function(e){return e+"元"}),Vue.filter("orignPrice",function(e){return"门市价："+e+"元"}),Vue.filter("sales",function(e){return"销量"+e})});
;/*!js/vm/home/home.js*/
define("js/vm/home/home",function(i,n,t){var r=i("js/util/util");i("js/filter/filter");var e=Vue.extend({template:'<section class="home">\r\n	<ul class="types clearfix">\r\n		<li v-for="item in types">\r\n			<a v-bind:href="\'#list/type/\' + item.id">\r\n				<img v-bind:src="\'img/icon/\' + item.url" alt="">\r\n				<p>{{item.title}}</p>\r\n			</a>\r\n		</li>\r\n	</ul>\r\n	<!-- 定义ad广告 -->\r\n	<ul class="ad clearfix">\r\n		<li v-for="(item, index) in ad">\r\n			<a v-bind:href="\'#/detail/\' + item.id">\r\n				<h3>{{item.title}}</h3>\r\n				<p>{{item.description}}</p>\r\n				<img v-bind:src="\'img/ad/\' + item.url" alt="">\r\n			</a>\r\n		</li>\r\n	</ul>\r\n	<!-- 定义商品列表 -->\r\n	<ul class="list-container">\r\n		<li v-for="item in list">\r\n			<a v-bind:href="\'#detail/\' + item.id">\r\n				<img v-bind:src="\'img/list/\' + item.img" alt="">\r\n				<div class="content">\r\n					<h3>{{item.title}}</h3>\r\n					<p>\r\n						<span class="price">{{item.price | price}}</span>\r\n						<span class="origin-price">{{item.orignPrice | orignPrice}}</span>\r\n						<span class="sales">{{item.sales | sales}}</span>\r\n					</p>\r\n				</div>\r\n			</a>\r\n		</li>\r\n	</ul>\r\n</section>',data:function(){return{types:[{id:1,title:"美食",url:"01.png"},{id:2,title:"电影",url:"02.png"},{id:3,title:"酒店",url:"03.png"},{id:4,title:"休闲娱乐",url:"04.png"},{id:5,title:"外卖",url:"05.png"},{id:6,title:"KTV",url:"06.png"},{id:7,title:"周边游",url:"07.png"},{id:8,title:"丽人",url:"08.png"},{id:9,title:"小吃快餐",url:"09.png"},{id:10,title:"火车票",url:"10.png"}],ad:[],list:[]}},created:function(){this.$parent.showSearch=!0;var i=this;r.ajax("data/home.json",function(n){n&&0===n.errno&&(i.ad=n.data.ad,i.list=n.data.list)})}});Vue.component("home",e),t.exports=e});
;/*!js/vm/list/list.js*/
define("js/vm/list/list",function(r,t,i){var e=r("js/util/util");r("js/filter/filter");var s=Vue.extend({template:'<section class="list">\r\n	<ul class="types clearfix">\r\n		<li v-for="ickt in types" v-on:click="sortBy(ickt.key)">\r\n			<span>{{ickt.value}}</span>\r\n			<span class="arrow"></span>\r\n		</li>\r\n	</ul>\r\n	<ul class="list-container">\r\n		<!-- <li v-for="item in list | filterBy query"> -->\r\n		<!-- <li v-for="item in list | filterBy searchquery"> -->\r\n		<li v-for="item in dealList">\r\n			<a v-bind:href="\'#detail/\' + item.id">\r\n				<img v-bind:src="\'img/list/\' + item.img" alt="">\r\n				<div class="content">\r\n					<h3 v-if="hashquery[1] == 1">{{item.title}}</h3>\r\n					<p>\r\n						<span class="price">{{item.price | price}}</span>\r\n						<span class="origin-price">{{item.orignPrice | orignPrice}}</span>\r\n						<span class="sales">{{item.sales | sales}}</span>\r\n					</p>\r\n				</div>\r\n			</a>\r\n		</li>\r\n	</ul>\r\n	<div class="load-more" v-show="others.length" v-on:click="loadMore">\r\n		<span>查看剩余{{others.length}}条团购</span>\r\n		<span class="arrow">\r\n			<span class="arrow white"></span>\r\n		</span>\r\n	</div>\r\n</section>',props:["searchquery","hashquery"],data:function(){return{types:[{value:"价格排序",key:"price"},{value:"销量排序",key:"sales"},{value:"好评排序",key:"evaluate"},{value:"优惠排序",key:"discount"}],list:[],others:[],query:""}},computed:{dealList:function(){var r=this;return this.list.filter(function(t){return t.title.indexOf(r.searchquery)>=0})}},methods:{loadMore:function(){this.list=this.list.concat(this.others),this.others=[]},sortBy:function(r){this.list.sort("discount"===r?function(r,t){return t.orignPrice-t.price-(r.orignPrice-r.price)}:function(t,i){return i[r]-t[r]})}},created:function(){this.$parent.showSearch=!0,this.query=this.$parent.query[1];var r=this,t="data/list.json?"+this.$parent.query[0]+"="+this.$parent.query[1];e.ajax(t,function(t){t&&0===t.errno&&(r.list=t.data.slice(0,3),r.others=t.data.slice(3))}),this.$watch("hashquery",function(){var t="data/list.json?"+r.$parent.query[0]+"="+r.$parent.query[1];e.ajax(t,function(t){t&&0===t.errno&&(r.list=t.data.slice(0,3),r.others=t.data.slice(3))})})}});Vue.component("list",s),i.exports=s});
;/*!js/vm/detail/detail.js*/
define("js/vm/detail/detail",function(a){var r=a("js/util/util");a("js/filter/filter");var n=Vue.extend({template:'<section class="product">\r\n	<div class="image-part">\r\n		<img v-if="data.src" v-bind:src="\'img/item/\' + data.src" alt="">\r\n		<h1>{{data.title}}</h1>\r\n		<p>{{data.description}}</p>\r\n	</div>\r\n	<div class="price-part">\r\n		<span class="price">{{data.price}}</span>\r\n		<span class="sign">元</span>\r\n		<span class="origin">{{data.orignPrice | orignPrice}}</span>\r\n		<span class="buy">立即购买</span>\r\n	</div>\r\n	<ul class="sale-part clearfix">\r\n		<li>支持自动退货</li>\r\n		<li>支持随时退货</li>\r\n		<li>{{data.sales | sales}}</li>\r\n	</ul>\r\n	<div class="store-part part">\r\n		<div class="header">店家信息</div>\r\n		<div class="body">\r\n			<p>{{data.storeName}}</p>\r\n			<p>{{data.storeAddress}}</p>\r\n		</div>\r\n		<div class="footer">查看{{data.storeNum}}家分店</div>\r\n	</div>\r\n	<div class="buy-part part">\r\n		<div class="header">购买须知</div>\r\n		<div class="body">\r\n			<ul>\r\n				<li>\r\n					<h3>有效期</h3>\r\n					<p>{{data.validateTime}}</p>\r\n				</li>\r\n				<li>\r\n					<h3>使用时间</h3>\r\n					<p>{{data.useTime}}</p>\r\n				</li>\r\n				<li>\r\n					<h3>使用规则</h3>\r\n					<p v-for="item in data.rules">{{item}}</p>\r\n				</li>\r\n			</ul>\r\n		</div>\r\n	</div>\r\n</section>',data:function(){return{data:{}}},created:function(){this.$parent.showSearch=!1;{var a=this;a.$parent.query[0]}r.ajax("data/product.json",function(r){r&&0===r.errno&&(a.data=r.data)})}});Vue.component("detail",n)});
;/*!js/vm/app.js*/
define("js/vm/app",function(e,a,o){var t=(e("js/vm/home/home"),e("js/vm/list/list"),e("js/vm/detail/detail"),new Vue({el:"#app",data:{view:"home",query:[],search:"",showSearch:!0,isLoad:!0},methods:{gotoSearch:function(e){this.search=e.target.value},goBack:function(){history.go(-1)}}}));o.exports=t});
;/*!js/route/router.js*/
define("js/route/router",function(e,a,i){function t(){var e=location.hash;e=e.replace(/^#\/?/,""),e=e.split("/");var a={home:!0,list:!0,detail:!0};n.view=a[e[0]]?e[0]:"home",n.query=e.slice(1)}var n=e("js/vm/app");window.addEventListener("hashchange",t),i.exports=t});
;/*!js/bootstrap.js*/
define("js/bootstrap",function(o){var r=o("js/route/router");r()});